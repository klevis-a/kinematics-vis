<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Visualizing the Decomposition of Humeral Orientation into Sub-Rotations</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="styles/main.css" rel="stylesheet" type="text/css">
    <link href="styles/sliderStyle.css" rel="stylesheet" type="text/css">
    <link href="styles/stateCtrlStyle.css" rel="stylesheet" type="text/css">
</head>
<body>
<div id="topContainer">
    <div id="help-btn-div"><a href="#" id="help-btn">?</a></div>
    <div id="help-div">
            <div id="close-container"><a href="#" class="close" id="help-close-btn"></a></div>
            <p>
            <b>Introduction</b>
            <br/>
            The purpose of this application is to highlight differences between various orientation decomposition
            sequences for the humerus, with an emphasis on axial rotation. Because the user interface is a work in
            progress, this documentation aims to provide just enough guidance to allow for meaningful interaction with
            the application. Once the application is more complete, these instructions will be updated.
            </p>

            <p>
            <b>Frame Selection</b>
            <br/>
            The slider bar at the top of the page allows you to select the frame in the data capture which you would
            like to analyze. Notice that as you change the frame number, the orientation of the semi-transparent humerus
            in each view is updated. Once you have chosen a frame to analyze, click the downward facing arrow next to
            the slider bar. This action decomposes the chosen humerus orientation in all 4 views.
            </p>

            <p>
            <b>The Views</b>
            <br/>
            Each of the 4 views decomposes the humerus orientation according to the label shown in its lower-left or
            lower-right corner. It's important to keep in mind that all decompositions express the orientation of the
            humerus with respect to the torso. As such, the humerus is initially aligned with the torso coordinate
            system (the triad in the middle of the view) and rotated to its final orientation via a sequence of
            sub-rotations. The two decompositions of interest are "Intrinsic" and "Axial". The "SVD" and "One Step"
            decomposition are ideas that I have experimented with, but will likely not be included in the final version
            of the application. In all views the elbow is represented by a thin red rectangle attached to the humerus.
            Axial rotation is illustrated by the angle between the striped and solid thin red rectangle.
            <br/><br/>
            "Intrinsic" performs a yx'y'' intrinsic Euler angle decomposition of the humerus
            orientation according to guidelines provided by the International Society of Biomechanics (ISB). The third
            sub-rotation (y'') is defined as axial rotation by ISB. "Axial Decomposition" decomposes the orientation of
            the humerus into two sub-rotations. The first sub-rotation performs the smallest rotation possible to align
            the long axis of the humerus from its initial state (aligned with the torso) to its final state. The second
            sub-rotation performs a rotation around the long axis of the humerus to account for axial rotation.
            </p>

            <p>
            <b>Interactions</b>
            <br/>
            The views are linked to each other so as you rotate, pan, or zoom in one view, the same action happens in
            the other 3 views. Rotate by dragging the left mouse button, zoom using the scroll-wheel, and pan by
            dragging the right mouse button. To maximize one of the views, double-click on it. Another double-click
            brings you back to the 4-pane view.
            </p>

            <p>
            <b>Animations</b>
            <br/>
            Once you have selected a frame to decompose (see <b>Frame Selection</b>) the application allows you to
            animate the sub-rotations associated with each decomposition. All the decompositions depicted contain at
            most 3 sub-rotations. The state buttons at bottom of the application allow you to choose which sub-rotation
            you would like to animate. Once you select a sub-rotation, the play/pause button and slide bar at the bottom
            of the page provide control of the animation for the selected sub-rotation. Again, the views are linked - a
            sub-rotation will be animated in all views. No animation will occur if a view does not contain the selected
            sub-rotation. For example, axial decomposition contains only 2 sub-rotations, so nothing will happen in that
            view when you animate sub-rotation #3. This portion of the user interface will likely change significantly
            in the future.
            </p>
    </div>
    <div id="views">
        <canvas id="canvas"></canvas>
        <div id="view1" class="quarter">
            <div id="view1_trackball" class="trackball_div"></div>
            <div id="view1_ctrls" class="view_controls"></div>
            <div id="view1_selector" class="method_selector method_selector_left"></div>
        </div>
        <div id="view2" class="quarter">
            <div id="view2_trackball" class="trackball_div"></div>
            <div id="view2_ctrls" class="view_controls"></div>
            <div id="view2_selector" class="method_selector method_selector_right"></div>
        </div>
        <div id="view3" class="quarter">
            <div id="view3_trackball" class="trackball_div"></div>
            <div id="view3_ctrls" class="view_controls"></div>
            <div id="view3_selector" class="method_selector method_selector_left"></div>
        </div>
        <div id="view4" class="quarter">
            <div id="poe" class="plotDiv"></div>
            <div id="ea" class="plotDiv"></div>
            <div id="axialRot" class="plotDiv"></div>
            <div id="plotSelector" class="plotSelector"></div>
        </div>
    </div>
    <div id="captureFrameControl">
        <div class="timelineCtrl">
            <div id="captureFrameGoCtrl" class="go"></div>
            <div class="sliderDiv"><input type="range" min="0" max="99" value="0" step="any" class="slider" id="captureFrameTimeline"></div>
            <div id="captureFrameNum" class="frameNum"></div>
        </div>
    </div>
    <div id="datGUI"></div>
</div>
<script src="js/vendor/plotly-latest.min.js"></script>
<script src="js/vendor/palette.js"></script>
<script src="js/vendor/require.js"></script>
<script type="module" src="js/main.js"></script>
</body>
</html>
